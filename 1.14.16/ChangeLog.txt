1.14.16 от 22.07.2021  **************************************************************************************

Внесённые изменения:

    1. Добавлена поддержка ФФД 1.2 для ККТ версий 5.X.
    2. Добавлены значения реквизита 1212 (предмет расчёта), подаваемые с помощью directIO #1011.
    3. Добавлен новый реквизит - адрес расчётов (тег 1009), подаваемый с помощью directIO #1010.
    4. Добавлен запрос ресурса ТПГ с помощью directIO #1069.
    5. Добавлена возможность отключать печать отчёта об открытии и закрытии смены с помощью directIO #1009.
    6. Добавлена возможность печати текста и штрихкода после печати клише до начала чека.
    7. Добавлена возможность удалить лишние строки в нижней части клише чека.
    8. Добавлено автоматическое закрытие соединения с ККТ при завершении работы с JPOS.


1.14.15 от 20.02.2021  **************************************************************************************

Внесённые изменения:

    1. Добавлена возможность задать номер ККТ с помощью метода setPOSID() для ККТ версий 5.X.
    2. Добавлена возможность запросить сменные счетчики для чеков коррекции с помощью directIO #1020 ККТ версий 5.X.
    3. Добавлена возможность запросить необнуляемые счетчики сумм оплат для чеков коррекции с помощью directIO #1021 ККТ версий 5.X.
    4. Добавлена возможность запросить количество фискальных документов за смену с помощью directIO #1020.
    5. Добавлена возможность менять стоимость позиции в методах printRecItem() и printRecItemAdjustment() для ККТ версий 3.X.

Исправленные ошибки:

    1. Исправлены значения признака предмета расчёта, используемые в directIO #1011.
    2. Поправлена печать нефискальных строк после блока оплаты.
    

1.14.14 от 11.08.2020  **************************************************************************************

Внесённые изменения:

    1. Добавлена поддержка загрузки картинок в память ККТ версий 5.X.
    2. Добавлена возможность чтения версии шаблонов ККТ с помощь directIO #1042 для ККТ версий 5.X.
    3. Добавлена возможность загрузки ПО ККТ с помощью directIO #1043 для ККТ версий 5.X.
    4. Добавлена возможность загрузки шаблонов ККТ с помощью directIO #1044 для ККТ версий 5.X.
    5. Добавлена возможность записывать лицензии ККТ с помощью directIO #1045, 1046 и 1047.
    6. Добавлена возможность считывать лицензии ККТ с помощью directIO #1048.


1.14.13 от 06.05.2020  **************************************************************************************

Внесенные изменения:

    1. Добавлена возможность автоматического вычитывания настроек ККТ в CSV.


1.14.12 от 03.04.2020  **************************************************************************************

Внесенные изменения:

    1. Улучшен контроль многопоточного доступа к методам драйвера.
    2. Добавлена настройка ofdChannel для указания канала ОФД драйвера.
    3. Добавлена настройка pieceUnitName для указания единиц измерения, при которых товар считается штучным.
    4. Для печати ШК (directIO #1002) добавлена возможность задать выравнивание.
    5. Добавлен directIO #1041 для задания дополнительного текста, который будет печататься на одном уровне с ШК.
    6. Добавлена возможность передачи номера автомата в directIO #1010.

Исправленные ошибки:

    1. Исправлена ошибка в обработке настройки названия COM-порта (com), из-за которой было невозможно подключиться к ККТ.
    2. Исправлен ряд ошибок, из-за которых флаги электронного документа (directIO #1009) и НДС 18% (directIO #1034) применялись к следующему оформленному документу.
    3. Исправлена обработка признака штучного товара.
    4. Исправлена работа настройки unitNameAsAttribute. Теперь реквизит 1197 передаётся в ККТ.
    5. Исправлена работа признаков печати текста двойной ширины и двойной высоты.


1.14.11 от 30.01.2020  **************************************************************************************

Внесенные изменения:

    1. Добавлена возможность передачи типа марки в directIO #1040.


1.14.10 от 05.12.2019  **************************************************************************************

Внесенные изменения:

    1. Добавлена поддержка модификации формируемого драйвером json-задания с помощью directIO #1025. Подобные модификации требуют поддержки со стороны скриптов базового драйвера.
    2. Добавлена настройка scriptsPath для указания пути к скриптам базового драйвера.
    3. Добавлена поддержка печати ШК с типом Code39+.
    4. Для directIO #1039 и #1040 дополнена поддержка передачи входного параметра (в случае реквизита 1162) как байтового массива. Теперь работают и тип byte[], и тип Byte[].

Исправленные ошибки:

    1. В ККТ не записываются настройки и картинки, указанные в настройках parametersFileName и fieldsFileName.
       Способ решения: Исправлена ошибка в порядке инициализации драйвера, настройки и картинки записываются.


1.14.9 от 15.10.2019  **************************************************************************************

Внесенные изменения:

    1. Добавлена настройка "Инвертировать состояние денежного ящика" (invertCashDrawerStatus), при включении которой драйвер будет возвращать противоположное полученному от ККТ значению.
    2. Для ККТ АТОЛ версий 5.X добавлена поддержка печати картинки в подвале (setTrailerLine()) и скорректировано программирование клише.

Исправленные ошибки:

    1. Не работает настройка printNonFiscalFooter.
       Способ решения: Работа настройки printNonFiscalFooter исправлена.


1.14.8 от 09.08.2019  **************************************************************************************

Внесенные изменения:

    1. Добавлена поддержка печати подвала документов для ККТ версий 5.X (требуется драйвер ККТ 10.5.1.0 и выше).

Исправленные ошибки:

    1. Запрос необнуляемой суммы FPTR_GD_GRAND_TOTAL возвращает строку без разделителей, которую невозможно разобрать.
       Способ решения: Добавлены разделители для чисел (;).
    2. После вызова printRecTotal() в документах внесения/выплаты невозможно закрыть документ.
       Способ решения: В список состояний, разрешающих закрытие документа внесения/выплаты, добавлено FPTR_PS_FISCAL_RECEIPT_ENDING.
    3. Запрос текущего итога чека FPTR_GD_CURRENT_TOTAL возвращает сумму без учета скидки-округления.
       Способ решения: Скидка-округление учитывается при расчете итога чека.


1.14.7 от 11.06.2019  **************************************************************************************

Внесенные изменения:

    1. Понижена требуемая версия Java до 1.7.
    2. Добавлен directIO #1039 для передачи значения реквизита 1162.
    3. Добавлен directIO #1040 для передачи неразобранной марки в позицию.

Исправленные ошибки:

    1. Строка, переданная в PostLine, печатается до позиции.
       Способ решения: Исправлена печать PostLine.


1.14.6 от 23.04.2019  **************************************************************************************

Внесенные изменения:

    1. Добавлена поддержка датчика близкого конца бумаги при использовании АТОЛ 27Ф.
    2. Метод getDescriptionLength() теперь возвращает значение 128 - максимальную доступную длину наименования товара на данный момент.
    3. Проработан возврат значений метода getData() при запросе значений FPTR_GD_DESCRIPTION_LENGTH.
    4. Отключен флаг CapOnlyVoidLastItem.
    5. Отключен флаг CapDuplicateReceipt.
    6. Добавлена настройка openShiftBeforeClose для автоматического открытия смены при снятии Z-отчета, если она закрыта.

Исправленные ошибки:

    1. При возникновении ошибки драйвера не возвращается ошибки через запросы getErrorCode() и getErrorCodeExtended() у исключения.
       Способ решения: Исправлен возврат ошибок.


1.14.5 от 26.02.2019  **************************************************************************************

Внесенные изменения:

    1. Отключен флаг CapReservedWord.
    2. Добавлена возможность записи имени кассира с помощью directIO #1038.
    3. Добавлена возможность записи кода товара для обуви с помощью directIO #1037.
    4. Добавлена поддержка записи произвольного кода товара (тег 1162) через directIO #1011.
    5. Добавлена поддержка работы с несколькими ККТ по USB на Linux.

Исправленные ошибки:

    1. Флаги электронного чека (directIO #1009) и режима НДС 18% (directIO #1034) не сбрасываются после закрытия чека.
       Способ решения: Флаги сбрасываются при закрытии чека, а также при вызове resetPrinter().
    2. При передаче нулевого количества нет сообщения об ошибке.
       Способ решения: При передаче нулевого количества возвращается ошибка JPOS_EFPTR_BAD_ITEM_QUANTITY.
    3. При передаче несуществующей налоговой ставки происходит NullPointerException.
       Способ решения: При передаче несуществующей налоговой ставки возвращается ошибка JPOS_EFPTR_BAD_VAT.
    4. При передаче несуществующего типа оплаты происходит NullPointerException.
       Способ решения: При передаче несуществующего типа оплаты возвращается ошибка JPOS_EFPTR_BAD_ITEM_DESCRIPTION.
    5. Если закрыть чек сразу после его открытия, не возвращается ошибка неверного режима JPOS-драйвера.
       Способ решения: Возвращается корректная ошибка, формирование чека в ККТ не начинается.
    6. Метод getRecEmpty() возвращает true, хотя чековая лента в ККТ есть.
       Способ решения: Исправлена работа getRecEmpty().


1.14.4 от 14.12.2018  **************************************************************************************

Внесенные изменения:

    1. Добавлен запрос суммы налогов по последнему чеку с помощью directIO #1032.
    2. Добавлена возможность передаче суммы налога на позицию с помощью directIO #1033.
    3. Добавлена возможность перевода чека в режим возвратов/покупок по НДС 18% с помощью directIO #1034.
    4. Добавлен запрос состояния смены с помощью directIO #1035.
    5. Добавлен запрос статуса ККТ с помощью directIO #1036.
    6. Добавлена возможность задания наименований расширенных типов оплат и их привязок к фискальным типам оплаты через jpos.xml.

Исправленные ошибки:

    1. В документации на directIO #1008 указано неверное количество параметров.
       Способ решения: Документация исправлена.
    2. Если передавать в составе чека email покупателя, то чек не печатается.
       Способ решения: Исправлено формирование чека, теперь флаг печати заполняется корректно.


1.14.3 от 15.11.2018  **************************************************************************************

Внесенные изменения:

    1. Изменен тип параметра object при вызовах directIO #1020 и #1021 со String[] на List<String>.

Исправленные ошибки:

    1. Значение реквизита 1192 записывается в реквизит 1086.
       Способ решения: Исправлена ошибки при формировании чека, реквизит 1192 формируется корректно.
    2. При запросе данных о последнем документе через directIO #1007 происходит ошибка "Data is null".
       Способ решения: Убрана проверка на параметр data метода directIO.


1.14.2 от 26.10.2018  ***************************************************************************************

Внесенные изменения:

    1. Добавлена поддержка записи реквизита 1191 через directIO #1011.
    2. Добавлена поддержка записи реквизита 1192 через directIO #1010.

Исправленные ошибки:

    1. Не удается запросить версию драйвера через метод getDeviceServiceVersion().
       Способ решения: Исправлено чтение формирование версии из ресурсов библиотеки.
    2. Не удается сформировать позицию в чеке расхода.
       Способ решения: Исправлена ошибка в формировании чека расхода.
    3. На чековой ленте не печатаются реквизиты чека 1085 и 1086 через directIO #1010.
       Способ решения: Добавлена поддержка данных реквизитов.
    3. На чековой ленте не печатаются реквизиты позиции 1005, 1016, 1026, 1044, 1057, 1073, 1074, 1075, 1171, 1225, 1226 через directIO #1011.
       Способ решения: Добавлена поддержка данных реквизитов.
    4. На вызов метода claim() возвращается ошибка jpos.JposException: 101.
       Способ решения: Исправлен метод open() - не обновлялось состояние драйвера.
    5. На вызов метода getMessageLength() возвращается ошибка jpos.JposException: 105.
       Способ решения: Исправлена проверка состояния в методе getMessageLength().


1.14.1 от 04.09.2018  ***************************************************************************************

1. Первый релиз JPOS-драйвера ККТ.
